doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title= title || "Sistema Hospitalario"
    
    //- Bootstrap CSS
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css", rel="stylesheet")
    //- Bootstrap Icons
    link(href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css", rel="stylesheet")
    
    //- Estilos personalizados
    style.
      :root {
        --primary-gradient: linear-gradient(135deg, #1e88e5 0%, #0d47a1 100%);
        --secondary-gradient: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        --primary-hover: #1565c0;
        --light-bg: #f8fafc;
        --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        --btn-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }
      
      body {
        background-color: var(--light-bg);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      }
      
      main {
        flex: 1;
        padding-bottom: 2rem;
      }
      
      .navbar {
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      
      .navbar-brand {
        font-weight: 700;
        font-size: 1.5rem;
      }
      
      .btn-custom {
        background: var(--primary-gradient);
        border: none;
        color: white;
        padding: 0.5rem 1.5rem;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: var(--btn-shadow);
      }
      
      .btn-custom:hover {
        background: var(--primary-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.25);
      }
      
      .card {
        border: none;
        box-shadow: var(--card-shadow);
        border-radius: 12px;
      }

  body
    //- Navbar ÚNICO
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark.fixed-top.shadow-sm
      .container-fluid
        a.navbar-brand.d-flex.align-items-center(href='/')
          i.bi.bi-hospital-fill.me-2
          | Sistema Hospitalario
        
        button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation')
          span.navbar-toggler-icon
        
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href="/") 
                i.bi.bi-house.me-1
                | Inicio
            li.nav-item
              a.nav-link(href="/quienes-somos")
                i.bi.bi-info-circle.me-1
                | Quiénes Somos
            li.nav-item
              a.nav-link(href="/especialidades")
                i.bi.bi-heart-pulse.me-1
                | Especialidades
            li.nav-item
              a.nav-link(href="/reclamos")
                i.bi.bi-chat-dots.me-1
                | Reclamos/Consultas
            li.nav-item
              a.nav-link(href="/admin")
                i.bi.bi-chat-dots.me-1
                | administrador
            
            if user
              .nav-item.dropdown
                a.nav-link.dropdown-toggle(href='#' role='button' data-bs-toggle='dropdown')
                  i.bi.bi-person-circle.me-1
                  | #{user.nombre}
                ul.dropdown-menu.dropdown-menu-end
                  li
                    a.dropdown-item(href=`/${user.rol}/dashboard`)
                      i.bi.bi-speedometer2.me-2
                      | Mi Dashboard
                  li
                    hr.dropdown-divider
                  li
                    a.dropdown-item(href='/auth/logout')
                      i.bi.bi-box-arrow-right.me-2
                      | Cerrar Sesión
            else
              li.nav-item
                a.nav-link(href='/auth/login')
                  i.bi.bi-box-arrow-in-right.me-1
                  | Login

    //- Contenido principal
    main.container.mt-5.pt-5
      block content

    //- Footer
    footer.bg-dark.text-white.text-center.py-3.mt-5
      .container
        p.mb-0 Troncoso Leandro - Programación web II - Sistema hospitalario
        small © 2024 Hospital Central. Todos los derechos reservados.

    //- Bootstrap JS
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
    
    block scripts