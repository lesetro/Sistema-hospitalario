extends ../dashboard/admin/dashboard-admin.pug


block content
    .container.mt-4
      h1 Lista de Usuarios
      a.btn.btn-custom.mb-3(href='/usuarios/new') Nuevo Usuario
      table.table
        thead
          tr
            th DNI
            th Nombre
            th Correo
            th Rol
            th Hospital
            th Acciones
        tbody
          each usuario in usuarios
            tr
              td= usuario.dni
              td= usuario.nombre
              td= usuario.email
              td= usuario.rol
              td= usuario.hospital ? usuario.hospital.nombre : 'Sin hospital'
              td
                a.btn.btn-info.btn-sm(href=`/usuarios/${usuario.id}`) Ver
                a.btn.btn-warning.btn-sm.ml-2(href=`/usuarios/${usuario.id}/edit`) Editar
                form(method='POST' action=`/usuarios/${usuario.id}` style='display:inline;')
                  input(type='hidden' name='_method' value='DELETE')
                  button.btn.btn-danger.btn-sm(type='submit') Eliminar
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
    script(src='/js/script.js')